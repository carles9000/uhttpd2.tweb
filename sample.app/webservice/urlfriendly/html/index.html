<?prg
#include "lib/tweb/tweb.ch" 

    LOCAL o, oWeb	
	
	DEFINE WEB oWeb TITLE 'TWeb WS' 			
		
		DEFINE FORM o OF oWeb							

		INIT FORM o	 		
			SAY VALUE '<h1>WebService running !' ALIGN 'center' GRID 12  OF o									
			SAY VALUE '<h4>Engine loaded, version {{ TWebVersion() }}<hr>' ALIGN 'center' GRID 12  OF o	

			ROWGROUP o 
			
				COL o GRID 6
					SAY VALUE '/customer/123' LINK '/customer/123' GRID 12 OF o					
				ENDCOL o
				
				COL o GRID 6
					SAY VALUE "<b>oServer:Route( '/customer/([0-9])*' )</b>" GRID 12 OF o
					SAY VALUE "Accept parameters numerics. No limit" GRID 12 OF o
				ENDCOL o				
				
			ENDROW o 
			
			ROWGROUP o 
			
				COL o GRID 6
					SAY VALUE '/customer1/123' LINK '/customer1/123' GRID 12 OF o					
				ENDCOL o
				
				COL o GRID 6
					SAY VALUE "<b>oServer:Route( '/customer1/([0-9])*','customer.prg', 'POST' )</b>" GRID 12 OF o
					SAY VALUE "Like the previous one but it can only be executed via POST" GRID 12 OF o
				ENDCOL o				
				
			ENDROW o 			
			
			ROWGROUP o 
			
				COL o GRID 6
					SAY VALUE '/customer2/123' LINK '/customer2/123' GRID 12 OF o					
				ENDCOL o
				
				COL o GRID 6
					SAY VALUE "<b>oServer:Route( '/customer2/([0-9]{3})*' )</b>" GRID 12 OF o
					SAY VALUE "Accept parameters numerics. Obligatory 3 numbers" GRID 12 OF o
				ENDCOL o				
				
			ENDROW o 

			ROWGROUP o 
			
				COL o GRID 6
					SAY VALUE '/customer3/1' LINK '/customer3/1' GRID 12 OF o					
				ENDCOL o
				
				COL o GRID 6
					SAY VALUE "<b>oServer:Route( '/customer3/([0-9]{1,3})*' )</b>" GRID 12 OF o
					SAY VALUE "Accept parameters numerics. Min 1, max 3" GRID 12 OF o
				ENDCOL o				
				
			ENDROW o 

			ROWGROUP o 
			
				COL o GRID 6
					SAY VALUE '/customer4/dinamic' LINK '/customer4/dinamic' GRID 12 OF o					
				ENDCOL o
				
				COL o GRID 6
					SAY VALUE "<b>oServer:Route( '/customer4/([a-z]+)' )</b>" GRID 12 OF o
					SAY VALUE "Accept parameters strings. No limit" GRID 12 OF o
				ENDCOL o				
				
			ENDROW o 			

			ROWGROUP o 
			
				COL o GRID 6
					SAY VALUE '/customer5/list' LINK '/customer5/list' GRID 12 OF o					
				ENDCOL o
				
				COL o GRID 6
					SAY VALUE "<b>oServer:Route( '/customer5/([a-z]{4}' )</b>" GRID 12 OF o
					SAY VALUE "Accept parameters strings. Len 4" GRID 12 OF o
				ENDCOL o				
				
			ENDROW o 	

			ROWGROUP o 
			
				COL o GRID 6
					SAY VALUE '/customer6/1234/info/BUY' LINK '/customer6/1234/info/BUY' GRID 12 OF o					
				ENDCOL o
				
				COL o GRID 6
					SAY VALUE "<b>oServer:Route( '/customer6/([0-9]{1,4})/info/([A-Z]{3})' )</b>" GRID 12 OF o
					SAY VALUE "Accept 2 parameters. First type numeric min1 max 4. Seconds 3 upper characters. Here it combines 2 static positions and 2 positions with dynamic values " GRID 12 OF o
				ENDCOL o				
				
			ENDROW o 	

			ROWGROUP o 
			
				COL o GRID 12
					SAY VALUE 'Can try here:  https://regex101.com/' LINK 'https://regex101.com/' GRID 12 ALIGN 'center' OF o					
				ENDCOL o		
				
			ENDROW o 			
			
	
		ENDFORM o	
	
	INIT WEB oWeb RETURN 

?>
